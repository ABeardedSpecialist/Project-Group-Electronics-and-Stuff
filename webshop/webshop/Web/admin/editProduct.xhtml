<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
>

<h:head>

    <title>EditProduct</title>

    <link href="../CSS/editProduct.css" rel="stylesheet" type="text/css"/>
    <link href="../CSS/SearchResults.css" rel="stylesheet" type="text/css"/>
    <link href="../CSS/styles.css" rel="stylesheet" type="text/css"/>


</h:head>

<f:view>

    <ui:composition template="theTemplateADM.xhtml">


        <ui:define name="content">
            <div class="border">
                <div id="Title">
                    <h:outputLabel value="Edit Product"/>
                </div>
                <h:body>
                    <h:form enctype="multipart/form-data">
                        <br/>

                        <div id="Qustion">
                            <h:outputLabel value="What Product do you want to change?"/>
                        </div>
                        <br/>
                        <div id="DataBaseTable">

                            <h:dataTable value="#{productData.theData}" var="pr">
                                <h:column>
                                    <f:facet name="header">ID</f:facet>
                                    #{pr.productID}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Name</f:facet>
                                    <h:inputText value="#{pr.productName}" size="20"
                                                 rendered="#{pr.editable}"/>

                                    <h:outputText value="#{pr.productName}"
                                                  rendered="#{not pr.editable}"/>

                                </h:column>
                                <h:column>
                                    <f:facet name="header">Price</f:facet>
                                    <h:inputText value="#{pr.productPrice}" size="20"
                                                 rendered="#{pr.editable}"/>
                                    <h:outputText value="#{pr.productPrice}"
                                                  rendered="#{not pr.editable}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Quantity</f:facet>
                                    <h:inputText value="#{pr.productQuantity}" size="20"
                                                 rendered="#{pr.editable}"/>
                                    <h:outputText value="#{pr.productQuantity}"
                                                  rendered="#{not pr.editable}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Image</f:facet>
                                    <h:inputFile value="#{productData.imageFile}" rendered="#{pr.editable}"/>
                                    <h:commandButton value="Upload" action="#{productData.fileUpload(pr)}"
                                                     rendered="#{pr.editable}"/>
                                    <h:graphicImage library="images" name="#{pr.productImage}" width="50"
                                                    rendered="#{not pr.editable}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Description</f:facet>
                                    <h:inputText value="#{pr.productDescription}" size="20"
                                                 rendered="#{pr.editable}"/>
                                    <h:outputText value="#{pr.productDescription}"
                                                  rendered="#{not pr.editable}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Category</f:facet>
                                    <h:selectOneMenu value="#{pr.categoryID}" onchange="submit()"  rendered="#{pr.editable}" >
                                        <f:selectItems value="#{categoryData.theList}" var="cd" itemValue="#{cd.catID}" itemLabel="#{cd.categoryName}"/>
                                    </h:selectOneMenu>
                                    <h:outputText value="#{pr.productCategory}"
                                                  rendered="#{not pr.editable}"/>
                                </h:column>
                                <div class="form-input">
                                    <h:column>
                                        <h:commandButton class="Buttons Buttonss" value="Edit"
                                                         action="#{productData.editAction(pr)}"
                                                         rendered="#{not pr.editable}"/>

                                        <h:commandButton class="Buttons Buttonss"
                                                         action="#{productData.editProducts(pr)}"
                                                         value="Save Changes" rendered="#{pr.editable}"/>
                                    </h:column>
                                </div>
                                <h:column>
                                    <h:commandButton class="Buttons Buttonss" value="Delete"
                                                     action="#{productData.removeProduct(pr.productID)}"
                                                     update="@form" ajax="true"/>

                                </h:column>
                            </h:dataTable>
                            <br/>
                            <br/>

                            <h:commandButton class="Button1" value="Go back" action="adminPage"/>
                        </div>
                    </h:form>

                </h:body></div>
        </ui:define></ui:composition>
</f:view>
</html>
